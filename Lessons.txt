1.ВВЕДЕНИЕ
==========================
SHOW DATABASES отображение баз данных которые управляются сервером 

SHOW TABLES отображение всех таблиц, в выбранной базе данных

SHOW COLUMNS отображает информацию и столбцах в заданной таблице

FROM из какой таблицы:
SHOW COLUMNS from tablesname

1.1. ВЫРАЖЕНИЯ SELECT
------------------------------------------------------
SELECT выбор столбца из таблицы:
SELECT columname from tablesname

1.2. СИНТАКСИС
------------------------------------------------------
Множество запросов, точка с запятой:
SELECT 01_columname from tablesname;
SELECT 02_columname from tablesname;

Можно через запятую:
SELECT columname, secondcolumname
FROM tablesname

SQL не чувствителен к регистру (SelEcT)

1.3. ВЫБОР НЕСКОЛЬКИХ СТОБЦОВ
------------------------------------------------------
Выбор всех столбцов:
SELECT * FROM tablesname

1.4. DISTINCT и LIMIT
------------------------------------------------------
Для устранения всех повторных записей и возврата только 
уникальных- DISTINCT, используется в сочетании с SELECT:
SELECT DISTINCT columname
FROM tablesname

Ограниченное количество записей это  LIMIT (number) :
SELECT columname
FROM tablesname
LIMIT 100

Начиная с определенного числа, плюс количество строк, это:
OFFSET 3 LIMIT 4;
Результат: 4, 5, 6, 7

1.5. СОРТИРОВКА ДАННЫХ
------------------------------------------------------
После SELECT можно указывать сразу название таблицы и имя 
столбца, разделив их при этом точкой:
SELECT tablesname. columname 
FROM tablesname
(Подходит для работы с множеством таблиц)

ORDER BY используется для сортировки возвращаемой 
информации по указанной вами колонки:
SELECT * FROM tablesname
ORDER BY columname;

Можно несколько колонок, тогда через запятую:
columname, columname_2;

Сортировка столбцов будет по порядку, сначала первый и тд. 

2, ФИЛЬТРАЦИЯ, ФУНКЦИИ, ПОДЗАПРОСЫ
=========================================
2.1. ВЫРАЖЕНИЕ WHERE
------------------------------------------------------
WHERE выполнение только тех записей, которые соответствуют 
заданному критерию:
SELECT columname
FROM tablesname
WHERE condition;

Логические операторы WHERE:
=   равно
!=  не равно
>   больше чем
<   меньше чем
>=   больше, либо равно
<=   меньше, либо равно
BETWEEN между включенного диапазона:
WHERE columname BETWEEN 
value AND value_2;

2.2. ФИЛЬТРАЦИЯ С AND, OR
------------------------------------------------------
AND 
выбрать строки, которые удовлетворяют всем заданным условиям
SELECT columname FROM tablesname
WHERE columname >= 30 AND columname <=40;

OR
выбрать строки, которые удовлетворяют по меньшей мере 
одному из заданных условий
SELECT columname FROM tablesname
WHERE columname = 'result' OR columname = 'result2';

КОМБО AND и OR =коньюктивный оператор 

2.3. ВЫРАЖЕНИЯ IN, NOT IN
------------------------------------------------------
IN
для сравнения столбца больше чем с одним значением
как и OR только можно в строку

SELECT * FROM tablesname
WHERE value IN ("Jack", "Johny", "Dep");

NOT IN
исключаем список определенных значений из результата

SELECT * FROM tablesname
WHERE value NOT IN ("Jack", "Johny", "Dep");
вышеуказанных парней уже не выдаст

2.4. ПОЛЬЗОВАТЕЛЬСКИЕ СТОЛБЦЫ
------------------------------------------------------
CONCAT - конкатенация двух и более значений
SELECT CONCAT (columname1, columname2) FROM tablesname;

Можно присвоить название столбцу полученному в результате 
вышеуказанной конкатенации с помощью AS

SELECT CONCAT (columname1, columname2) AS newcolumn
FROM tablesname;

Арифметические операторы вып. операции с числоыми операндами
К примеру столбец salary содержит ЗП, так

SELECT columname1, columname2, salary+ 1000 AS newcolumnsalary
FROM tablesname;

получим columname1, columname2 и salary c прибавленной выше зп.
Также можно делить, умножать, вычитать, а ежели взять в скобки, 
будет приоритет.

2.5. ФУНКЦИИ
------------------------------------------------------
UPPER конвертирует все буквы в заглавные 
LOWER в мелкие

SELECT columname1, UPPER (columname2) AS newtablesname
FROM tables name
в это время columname2
ОООООО
АААААА

SQRT возвращает квадратный корень заданного значения
SELECT опятьЗПsalary, SQRT(Salary)
FROM tablesname

salary                      |      SQRT (Salary)
2000                         |      44.721359549.....

SUM используется для подсчета суммы значений столбцов
SELECT SUM (Salary) FROM tablesname
резалт общая сумма всех работяг

2.6. ПОДЗАПРОСЫ
------------------------------------------------------
Подзапросы в скобках, без точки с запятой
SELECT columname FROM tablesname
WHERE salary > (SELECT columname AVG (salary) FROM
tablesname)
ORDER BY salary DESC;

AVG среднее значение
DESC сортировка в порядке убывания
ASC в порядке возрастания

2.7. LIKE и MIN
------------------------------------------------------
SELECT columname
FROM tablesname
WHERE columname
LIKE voobrazi;

также можно LIKE "A%";
или "%S"

Функция MIN используется для возврата минимального значени
к примеру, минимальная ЗП среди работников
SELECT MIN (salary) AS salary FROM tablesnme

еще раз AS присвоение названия табл.

3. JOIN, ТАБЛИЧНЫЕ ОПЕРАЦИИ
============================
3.1 Соединение таблиц
------------------------------------------------------
В SQL соединение таблиц означает комбинацию данных из двух и 
более таблиц. Соединение таблиц создает временную таблицу, 
отображающую информацию из обьединенных таблиц.

Для того что бы соединить две таблицы, их необходимо указать в списке
через запятую в выражении FROM.

SELECT customers.ID, customers.Name,
orders.Name, orders.Amount
FROM customers, orders
WHERE customers.ID = orders.Customer_ID
ORDER BY customers.ID;

* каждая таблица содержит ст. ID и Name, так что для выбора правильного
ID и Name использубтся полностью квалифицированные имена.

3.2 Типы обьединений
------------------------------------------------------
Пользовательские Имена
Можно сократить выражение объединения, с помощью установки таблице
"прозвища"

SELECT ct.ID, ct.Name, ord.Name, ord.Amount
FROM customers AS ct, orders AS ord
WHERE ct.ID=ord.Customer_ID
ORDER BY ct.ID;

Типы обьединений
-INNER JOIN (внутреннее обьединение) экв. JOIN. Оно возвращает строки, 
если они совпадабт в таблицах. (Возвр. только совпадающие записи).
-LEFT JOIN (возвращает все строки из левой таблицы, даже есл. нет соотв.
в правой таблице).
-RIGHT JOIN (возвращает все строки из правой таблицы, даже если нет 
соответсвий в левой таблице)

Базовый синтаксис:

+INNER
SELECT column_name(s)
FROM table1 INNER JOIN table2
ON table1.column_name=table2.column_name;
(ON указывает на условие внутреннего объединения)

+LEFT
SELECT table1.column1, table2.column2
FROM table1 LEFT OUTER JOIN table2
ON table1.column_name = table2.column_name;
(если совпадение ненайдено для конкретной строки, то будет возвращено 
значение NULL)

+RIGHT
SELECT table1.column1, table2.column2
FROM table1 RIGHT OUTER JOIN table2
ON table.cilumn_name = table2.column_name;
(OUTER является опциональным и может быть опущено)

3.3 UNION
------------------------------------------------------
- комбинирует несколько наборов данных в один набор, и убирает
любые существующие дубликаты
UNION ALL (быстрее чем UNION)
- комбинирует несколько наборов данных в один набор, но не убирает 
дублирующиеся строки

Оператор UNION используется для комбинирования наборов результатов
двух и более выражений SELECT. Все выражения SELECT внутри UNION
должны иметь одинаковое количество столбцов, столбцы в свою очередь
должны иметь одинаковые типы данных и идти в одинаковом порядке.

SELECT column_name FROM table1
UNION
SELECT column_name FROM table2;

(Если столбцы не совпадают в точности по все запросам, то можно использовать
значение NULL:

SELECT FirstName, LastName, Company 
FROM businessContacts
UNION
SELECT FirstName, LastName, NULL FROM
otherContacts;

UNION ALL
выбирает все строки из каждой таблицы и комбинирует их в одну таблицу.

SELECT id, firstname, lastname, city
FROM first
UNION ALL
SELECT id, firstname, lastname, city
FROM second

3.4 INSERT
------------------------------------------------------
используется для добавления новых строк в таблицу
(Значения должны находится в том же порядке что и столбцы в таблице)

INSERT INTO employees
VALUES (8, 'Anatoly', 'qa', 35);

Можно указать названия столбцов таблицы в INSERT INTO

INSERT INTO employees (id, firstname, lastnmae, age)
VALUES (8, 'Anatoly', 'qa', 35);

Можно вставить информацию только в указанные столбцы

INSERT INTO employees (id, firstname, lastname)
VALUES (8, 'Anatoly', 'qa', 35);

3.5 UPDATE и DELETE
------------------------------------------------------
UPDATE Позволяет изменять данные в табице 
WARNING!!!!
ЕСЛИ опустить условие WHERE то все записи в таблице будут обновлены

UPDATE employees
SET salary = 5000
WHERE id =1;

Несколько столбцов

UPDATE employees
SET salary = 5000, firstname = 'Stas'
WHERE id =1;

DELETE позволяет удалять
WARNING!!!!
ЕСЛИ опустить условие WHERE то все записи в таблице будут удалены 
НАВСЕГДА

DELETE FROM employees
WHERE id=1;

3.6 Создание таблиц CREATE
------------------------------------------------------
 CREATE TABLE users
(
   UserID int
   FirstName varchar (100),
   LastName varchar (100),
   City varchar (100)
);

 varchar- символы
 int - целое число
 float - с плавающей точкой
 double - с плавающей, двойной точности
 data - дата в формате YYYY-MM-DD
 timestamp - временная метка
 time - время в формате HH:MM:SS
 char - строка символов фикс. длинны (255б)
 varchar - строка символов варьирующейся длинной
 blob - бинарные большие обьекты (изобр., двоич. данн.)
 text - большие кол. текст. инф.

PRIMARY KEY (userID) является наилучшим выбором
для первичного ключа.

3.7 NOT NULL и AUTO_INCREMENT
------------------------------------------------------
not null - указывает, что столбец не может 
содержать значение null

unique- запрещает вставлять повторяющиеся
значения

parimary key - заставляет таблицу принимать
уникальные данные для определенного столбца

check - определяет, является ли значение подходящим
или нет

default - при вставке данных в таблицу, если столбцу не 
предоставляется значение. то он получает значение устан.
по умолчанию

AUTO_INCREMENT - позволяет генерировать уникальные 
числа при добавлении новой записи в таблицу.
По умолчанию равняется 1 и будет инкрементироваться на 1
для каждой новой записи.

 CREATE TABLE users
(
   id int NOT NULL AUTO_INCREMENT,
   username varchar (40) NOT NULL,
   password varchar (10) NOT NULL,
   PRIMARY KEY (id)
);

3.8 ALTER, DROP, RENAME
------------------------------------------------------
ALTER TABLE - используется для добавления, удаления, модифицир.
столбцов в существующей таблице. (в т.ч. ограничений)

ДОБАВЛЕНИЕ
ALTER TABLE people ADD dateofbirth date;
(добавили новый столбец dateofbirth)
(по умолчанию все строки будут null)

УДАЛЕНИЕ
ALTER TABLE people
DROP COLUMN dateof birth;
(чтобы удалить целую таблицу DROP TABLE people)

ПЕРЕИМЕНОВАНИЕ
ALTER TABLE people
RENAME firstname TO name;
(переименовывает столбец)
(переименовывать всю таблицу - RENAME TABLE people TO users;

3.9 Представления
------------------------------------------------------
SQL VIEW является виртуальной таблицей основанной на 
результатирующем наборе SQL выражения.

CREATE VIEW list AS
SELECT firstname, salary
FROM employees;

Теперь можно запросить представление List

SELECT * FROM list;
(выдаст firstname и salary)

Представление всегда отображает обновленную информацию.
Движок БД использует SQL выражение представления для
обновления данных, каждый раз, когда пользоваетль 
запрашивает представление.

ОБНОВИТЬ ПРЕДСТАВЛЕНИЕ

CREATE OR REPLACE VIEW list AS
SELECT firstname, lastname, salary
FROM employees;

УДАЛИТЬ представление можно с помощью DROP VIEW list;



